(this.webpackJsonpmerehead=this.webpackJsonpmerehead||[]).push([[0],{21:function(e,n,t){e.exports=t(41)},41:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(0),u=t.n(r),c=t(7),o=t.n(c),i=t(4),l=t(17),s=t.n(l),p=t(8),m=function(){try{var e=localStorage.getItem("users");return null===e?{users:[]}:JSON.parse(e)}catch(n){return console.error(n),{}}}(),d=Object(p.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"add":return{users:n.data};default:return e}}));d.subscribe(s()((function(){!function(e){try{var n=JSON.stringify(e);localStorage.setItem("users",n)}catch(t){console.log(t)}}({users:d.getState().users})}),1e3));var f=t(3),b=t(1);function h(){var e=Object(a.a)(["\n    display: flex;\n    justify-content: center;\n    div {\n        display: flex;\n        width: 100px;\n        justify-content: space-around;\n        align-items: center;\n    }\n    button {\n        height: 30px;\n        border-radius: 100%;\n        line-height: 14px;\n    }\n"]);return h=function(){return e},e}var g=f.b.div(h()),E=function(e){var n=e.currentPage,t=e.setCurrentPage,a=e.PageCount;return u.a.createElement(u.a.Fragment,null,a>1&&u.a.createElement(g,null,u.a.createElement("div",null,u.a.createElement("button",{onClick:function(){t(1===n?a:n-1)}}," \u2190"),u.a.createElement("span",null,n,"/",a),u.a.createElement("button",{onClick:function(){return t(n===a?1:n+1)}}," \u2192"))))},v=function(e){if(!e.ok)throw new Error("".concat(e.status,": ").concat(e.statusText));return e.json()},j=function(e){console.error(e)},O=function(e,n){return fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/users").then(v).then((function(n){e({type:"add",data:n})})).catch(j).finally(n(!1))};function y(){var e=Object(a.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-grow: 0;\n    justify-content: center;\n    border: 1px solid black;\n    border-radius: 15px;\n    margin: 10px;\n    padding: 10px;\n    background-color: lightgray;\n    input,\n    button {\n        margin: 10px;\n        padding: 5px 10px;\n        font-weight: bold;\n        border-radius: 10px;\n        outline: none;\n    }\n    @media (min-width: 860px) {\n        flex-direction: row;\n    }\n"]);return y=function(){return e},e}var x=f.b.form(y()),C=function(e){var n=e.setLoading,t=Object(i.b)(),a=Object(r.useState)(""),c=Object(b.a)(a,2),o=c[0],l=c[1],s=Object(r.useState)(""),p=Object(b.a)(s,2),m=p[0],d=p[1],f=Object(r.useState)(""),h=Object(b.a)(f,2),g=h[0],E=h[1],y={name:o,surname:m,desc:g};return u.a.createElement(x,{onSubmit:function(e){e.preventDefault(),l(""),d(""),E(""),function(e,n,t){t(!0),fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(v).then((function(){O(n,t)})).catch(j)}(y,t,n)}},u.a.createElement("h3",null,"Create user"),u.a.createElement("input",{type:"text",name:"name",placeholder:"input name",value:o,onChange:function(e){l(e.currentTarget.value)},required:!0}),u.a.createElement("input",{type:"text",name:"surname",placeholder:"input surname",value:m,onChange:function(e){d(e.currentTarget.value)},required:!0}),u.a.createElement("input",{type:"text",name:"desc",placeholder:"input description",value:g,onChange:function(e){E(e.currentTarget.value)},required:!0}),u.a.createElement("button",{type:"submit"},"Create user"))},k=function(e){var n=e.user,t=e.setLoading,a=Object(i.b)(),c=Object(r.useState)(""),o=Object(b.a)(c,2),l=o[0],s=o[1],p=Object(r.useState)(""),m=Object(b.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)(""),g=Object(b.a)(h,2),E=g[0],y=g[1],C=Object(r.useState)(!1),k=Object(b.a)(C,2),S=k[0],w=k[1],T=Object(r.useState)(!1),P=Object(b.a)(T,2),q=P[0],J=P[1],L={name:l,surname:d,desc:E},N=function(){return function(e,n,t){return t(!0),fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/user/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(v).then((function(){O(n,t)})).catch(j)}(n.id,a,t)};return u.a.createElement(u.a.Fragment,null,q&&u.a.createElement(D,null,u.a.createElement("span",null,"Delete?"),u.a.createElement("button",{onClick:function(){N(),J(!1)}},"Ok"),u.a.createElement("button",{onClick:function(){J(!1)}},"No")),!S&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{onClick:function(){return J(!0)}},"Delete user"),u.a.createElement("button",{onClick:function(){s(n.name),f(n.surname),y(n.desc),w(!0)}},"Edit user")),S&&u.a.createElement(D,null,u.a.createElement(x,{onSubmit:function(e){e.preventDefault(),function(e,n,t,a,r){t(!1),r(!0),fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/user/".concat(e),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(v).then((function(){O(a,r)})).catch(j)}(n.id,L,w,a,t)}},u.a.createElement("h3",null,"Edit user"),u.a.createElement("input",{type:"text",name:"name",placeholder:"input name",defaultValue:l,onChange:function(e){s(e.currentTarget.value)},required:!0}),u.a.createElement("input",{type:"text",name:"surname",placeholder:"input surname",defaultValue:d,onChange:function(e){f(e.currentTarget.value)},required:!0}),u.a.createElement("input",{type:"text",name:"desc",placeholder:"input desc",defaultValue:E,onChange:function(e){y(e.currentTarget.value)},required:!0}),u.a.createElement("button",{type:"submit"},"Edit user"),S&&u.a.createElement("button",{onClick:function(){return w(!1)}},"Cancel edit"))))};function S(){var e=Object(a.a)(["\n    border: 1px solid black;\n    border-radius: 15px;\n    margin: 10px;\n    padding: 10px;\n    button,\n    p,\n    span {\n        margin: 10px;\n        padding: 5px 10px;\n        border-radius: 10px;\n        outline: none;\n    }\n"]);return S=function(){return e},e}function w(){var e=Object(a.a)(["\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n"]);return w=function(){return e},e}function T(){var e=Object(a.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, 0.85);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    span {\n        font-size: 32px;\n        color: #fff;\n    }\n"]);return T=function(){return e},e}function P(){var e=Object(a.a)(["\n    position: relative;\n    width: 100vw;\n    min-height: 100vh;\n"]);return P=function(){return e},e}var q=f.b.div(P()),D=f.b.div(T()),J=f.b.div(w()),L=f.b.div(S()),N=function(){var e=Object(i.b)(),n=Object(r.useState)(!1),t=Object(b.a)(n,2),a=t[0],c=t[1];Object(r.useEffect)((function(){O(e,c)}),[e]);var o=Object(i.c)((function(e){return e.users})),l=Object(r.useState)(1),s=Object(b.a)(l,2),p=s[0],m=s[1],d=o&&o.slice(5*(p-1),5*p),f=o?Math.ceil(o.length/5):1;return f<p&&m(f),u.a.createElement(q,null,a&&u.a.createElement(D,null,u.a.createElement("span",null,"Loading...")),u.a.createElement(C,{setLoading:c}),u.a.createElement(E,{currentPage:p,setCurrentPage:m,usersPerPage:5,PageCount:f}),u.a.createElement(J,null,d&&d.map((function(e,n){return u.a.createElement(L,{key:n},u.a.createElement("p",null,"Name: ",e.name),u.a.createElement("p",null,"Surname: ",e.surname),u.a.createElement("p",null,"Description: ",e.desc),u.a.createElement(k,{setLoading:c,user:e}))}))))};function F(){var e=Object(a.a)(["\n  html,body {\n    margin:0\n  }\n  button{\n      :hover{\n          background-color: lightblue;\n          cursor: pointer;\n          }\n        :focus{\n            border-color: lightcoral;\n            outline:none;\n        }\n  }\n"]);return F=function(){return e},e}var I=Object(f.a)(F());o.a.render(u.a.createElement(u.a.Fragment,null,u.a.createElement(I,null),u.a.createElement(i.a,{store:d},u.a.createElement(N,null))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.c00b09b6.chunk.js.map