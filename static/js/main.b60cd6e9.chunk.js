(this.webpackJsonpmerehead=this.webpackJsonpmerehead||[]).push([[0],{21:function(e,n,t){e.exports=t(41)},41:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(0),u=t.n(r),c=t(7),o=t.n(c),i=t(4),l=t(17),s=t.n(l),p=t(8),m=function(){try{var e=localStorage.getItem("users");return null===e?{users:[]}:JSON.parse(e)}catch(n){return console.error(n),{}}}(),d=Object(p.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"add":return{users:n.data};default:return e}}));d.subscribe(s()((function(){!function(e){try{var n=JSON.stringify(e);localStorage.setItem("users",n)}catch(t){console.log(t)}}({users:d.getState().users})}),1e3));var f=t(3),b=t(1);function h(){var e=Object(a.a)(["\n    display: flex;\n    justify-content: center;\n    div {\n        display: flex;\n        width: 100px;\n        justify-content: space-around;\n        align-items: center;\n    }\n    button {\n        height: 30px;\n        border-radius: 100%;\n        line-height: 14px;\n    }\n"]);return h=function(){return e},e}var g=f.b.div(h()),E=function(e){var n=e.currentPage,t=e.setCurrentPage,a=e.PageCount;return u.a.createElement(u.a.Fragment,null,a>1&&u.a.createElement(g,null,u.a.createElement("div",null,u.a.createElement("button",{onClick:function(){t(1===n?a:n-1)}}," \u2190"),u.a.createElement("span",null,n,"/",a),u.a.createElement("button",{onClick:function(){return t(n===a?1:n+1)}}," \u2192"))))},v=function(e,n){return fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/users").then((function(e){return e.json()})).then((function(t){e({type:"add",data:t}),n(!1)}))};function j(){var e=Object(a.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-grow: 0;\n    justify-content: center;\n    border: 1px solid black;\n    border-radius: 15px;\n    margin: 10px;\n    padding: 10px;\n    background-color: lightgray;\n    input,\n    button {\n        margin: 10px;\n        padding: 5px 10px;\n        font-weight: bold;\n        border-radius: 10px;\n        outline: none;\n    }\n    @media (min-width: 860px) {\n        flex-direction: row;\n    }\n"]);return j=function(){return e},e}var O=f.b.form(j()),y=function(e){var n=e.setLoading,t=Object(i.b)(),a=Object(r.useState)(""),c=Object(b.a)(a,2),o=c[0],l=c[1],s=Object(r.useState)(""),p=Object(b.a)(s,2),m=p[0],d=p[1],f=Object(r.useState)(""),h=Object(b.a)(f,2),g=h[0],E=h[1],j={name:o,surname:m,desc:g};return u.a.createElement(O,{onSubmit:function(e){e.preventDefault(),l(""),d(""),E(""),function(e,n,t){t(!0),fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(){v(n,t)}))}(j,t,n)}},u.a.createElement("h3",null,"Create user"),u.a.createElement("input",{type:"text",name:"name",placeholder:"input name",value:o,onChange:function(e){l(e.currentTarget.value)},required:!0}),u.a.createElement("input",{type:"text",name:"surname",placeholder:"input surname",value:m,onChange:function(e){d(e.currentTarget.value)},required:!0}),u.a.createElement("input",{type:"text",name:"desc",placeholder:"input description",value:g,onChange:function(e){E(e.currentTarget.value)},required:!0}),u.a.createElement("button",{type:"submit"},"Create user"))},x=function(e){var n=e.user,t=e.setLoading,a=Object(i.b)(),c=Object(r.useState)(""),o=Object(b.a)(c,2),l=o[0],s=o[1],p=Object(r.useState)(""),m=Object(b.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)(""),g=Object(b.a)(h,2),E=g[0],j=g[1],y=Object(r.useState)(!1),x=Object(b.a)(y,2),C=x[0],S=x[1],k=Object(r.useState)(!1),w=Object(b.a)(k,2),T=w[0],q=w[1],D={name:l,surname:d,desc:E},J=function(){return function(e,n,t){t(!0),fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/user/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){v(n,t)}))}(n.id,a,t)};return u.a.createElement(u.a.Fragment,null,T&&u.a.createElement(P,null,u.a.createElement("span",null,"Delete?"),u.a.createElement("button",{onClick:function(){J(),q(!1)}},"Ok"),u.a.createElement("button",{onClick:function(){q(!1)}},"No")),!C&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{onClick:function(){return q(!0)}},"Delete user"),u.a.createElement("button",{onClick:function(){s(n.name),f(n.surname),j(n.desc),S(!0)}},"Edit user")),C&&u.a.createElement(P,null,u.a.createElement(O,{onSubmit:function(e){e.preventDefault(),function(e,n,t,a,r){t(!1),r(!0),fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/user/".concat(e),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(){v(a,r)}))}(n.id,D,S,a,t)}},u.a.createElement("h3",null,"Edit user"),u.a.createElement("input",{type:"text",name:"name",placeholder:"input name",defaultValue:l,onChange:function(e){s(e.currentTarget.value)},required:!0}),u.a.createElement("input",{type:"text",name:"surname",placeholder:"input surname",defaultValue:d,onChange:function(e){f(e.currentTarget.value)},required:!0}),u.a.createElement("input",{type:"text",name:"desc",placeholder:"input desc",defaultValue:E,onChange:function(e){j(e.currentTarget.value)},required:!0}),u.a.createElement("button",{type:"submit"},"Edit user"),C&&u.a.createElement("button",{onClick:function(){return S(!1)}},"Cancel edit"))))};function C(){var e=Object(a.a)(["\n    border: 1px solid black;\n    border-radius: 15px;\n    margin: 10px;\n    padding: 10px;\n    button,\n    p,\n    span {\n        margin: 10px;\n        padding: 5px 10px;\n        border-radius: 10px;\n        outline: none;\n    }\n"]);return C=function(){return e},e}function S(){var e=Object(a.a)(["\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n"]);return S=function(){return e},e}function k(){var e=Object(a.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, 0.85);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    span {\n        font-size: 32px;\n        color: #fff;\n    }\n"]);return k=function(){return e},e}function w(){var e=Object(a.a)(["\n    position: relative;\n    width: 100vw;\n    min-height: 100vh;\n"]);return w=function(){return e},e}var T=f.b.div(w()),P=f.b.div(k()),q=f.b.div(S()),D=f.b.div(C()),J=function(){var e=Object(i.b)(),n=Object(r.useState)(!1),t=Object(b.a)(n,2),a=t[0],c=t[1];Object(r.useEffect)((function(){v(e,c)}),[e]);var o=Object(i.c)((function(e){return e.users})),l=Object(r.useState)(1),s=Object(b.a)(l,2),p=s[0],m=s[1],d=o.slice(5*(p-1),5*p),f=Math.ceil(o.length/5);return f<p&&m(f),u.a.createElement(T,null,a&&u.a.createElement(P,null,u.a.createElement("span",null,"Loading...")),u.a.createElement(y,{setLoading:c}),u.a.createElement(E,{currentPage:p,setCurrentPage:m,usersPerPage:5,PageCount:f}),u.a.createElement(q,null,d.map((function(e,n){return u.a.createElement(D,{key:n},u.a.createElement("p",null,"Name: ",e.name),u.a.createElement("p",null,"Surname: ",e.surname),u.a.createElement("p",null,"Description: ",e.desc),u.a.createElement(x,{setLoading:c,user:e}))}))))};function L(){var e=Object(a.a)(["\n  html,body {\n    margin:0\n  }\n  button{\n      :hover{\n          background-color: lightblue;\n          cursor: pointer;\n          }\n        :focus{\n            border-color: lightcoral;\n            outline:none;\n        }\n  }\n"]);return L=function(){return e},e}var N=Object(f.a)(L());o.a.render(u.a.createElement(u.a.Fragment,null,u.a.createElement(N,null),u.a.createElement(i.a,{store:d},u.a.createElement(J,null))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.b60cd6e9.chunk.js.map